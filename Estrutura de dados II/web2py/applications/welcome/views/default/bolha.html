
<h3>Ordenação em bolha</h3>
        ex 1,2,3,4,5
{{=form}}
        {{try:}}
        <h1>{{if valor:
        }}Resposta:{{=valor}}{{pass}}</h1>
        {{except:}}
        {{pass}}
        <h3>Codigo simplificado</h3>
        <pre>
class ItensPersonalizados():
    def __init__(self, valor):
        """
        Objeto que contem o mapeamento direita e esquerda
        de cada item
        :param valor: Valor do item
        :return:
        """
        self.esquerda = 0
        self.direita = 0
        self.valor = valor


class ListaPersonalizada():
    """
    Gerenciador de itens, faz as operações basicas de lista
    e simula o funcionamento de uma lista em python usando objetos
    """

    def __init__(self):
        #Inicia objeto, inicia uma lista representativa
        self.emulaLista = list()

    def add(self, item):
        """
        Adiciona um item ao pacote especial
        apos adicionar ao pacote, todos os indices
        são atualizados
        :param item:
        :return:
        """
        item = ItensPersonalizados(item)
        self.emulaLista.append(item)
        esquerda =0
        direita = 1
        for e in self.emulaLista:
            e.esquerda = esquerda
            e.direita = direita
            esquerda = esquerda + 1
            direita = direita + 1
        self.emulaLista[-1].direita = 0

    def get(self, indice):
        """
        Get, retorna o item naquela posição
        isso é virtualizado utilizando uma "proporcao arbitraria"
        :param indice:
        :return:
        """
        esquerda = indice
        direita = indice + 1 if len(self.emulaLista) != indice+1 else 0
        for e in self.emulaLista:
            if e.esquerda == esquerda and e.direita == direita:
                return e.valor
        raise Exception("indice não encontrado")

    def remove(self, indice):
        """
        Não vamos usar mais fiz uma função para tornar objeto lixo
        :param indice:
        :return:
        """
        esquerda = indice
        direita = indice + 1 if len(self.emulaLista) != indice+1 else 0
        for e in self.emulaLista:
            if e.esquerda == esquerda and e.direita == direita:
                e.esquerda = None
                e.direita = None
                e.valor = None
                self.coletorDelixo()
                return True
        raise Exception("indice não encontrado")

    def coletorDelixo(self):
        """
        Todo lixo precisa ser coletado (:
        fiz essa classe para coletar elementos nulos e reorganizar
        a lista por completo
        :return:
        """
        for index in range(0, len(self.emulaLista)-1):
            if self.emulaLista[index].esquerda is None and self.emulaLista[index].direita is None:
                self.emulaLista.remove(index)
        esquerda = 0
        direita = 1
        for e in self.emulaLista:
            e.esquerda = esquerda
            e.direita = direita
            esquerda = esquerda + 1
            direita = direita + 1
        self.emulaLista[-1].direita = 0

    def set(self, indice, valor):
        """
        Seta um valor dentro do vetor, mantendo a ordem da estrutura
        :param indice:
        :param valor:
        :return:
        """
        esquerda = indice
        direita = indice + 1 if len(self.emulaLista) != indice+1 else 0
        for e in self.emulaLista:
            if e.esquerda == esquerda and e.direita == direita:
                e.valor = valor
                return True
        raise Exception("indice não encontrado")

    def len(self):
        """
        Retorna a quantidade de elementos da lista virtual
        :return:
        """
        return len(self.emulaLista)

    def __iter__(self):
        """
        Para simular o interador, preciso recriar
        :return:
        """
        for i in self.emulaLista:
            yield i

    def __add__(self, other):
        """
        e preciso simular a soma também ):
        :param other:
        :return:
        """
        self.emulaLista = self.emulaLista + other.emulaLista
        return self

    def sum(self, lista):
        newLista = ListaPersonalizada()
        for i in lista:
            for e in i:
                newLista.add(e)
        return newLista

    def next(self):
        for i in self.emulaLista:
            yield i


def bubbleSort(ListaEspecial):
    # do fim para começo, voltando um a um
    for passnum in range(ListaEspecial.len()-1, 0, -1):
        # pega posição atual, intera 0-posição ordenando
        for i in range(passnum):
            #utilizando a lista especial,  ordena os valores
            if ListaEspecial.get(i) > ListaEspecial.get(i+1):
                temp = ListaEspecial.get(i)
                ListaEspecial.set(i, ListaEspecial.get(i+1))
                ListaEspecial.set(i+1, temp)

        </pre>
        <a target="_blank" href="https://github.com/isvaldo/Trabalhos-Faculdade/blob/master/Estrutura%20de%20dados%20II/web2py/applications/welcome/controllers/default.py">
            Veja o Codigo Completo e comentado
        </a>

        <h3>Funcionamento Passo a Passo</h3>
<iframe width="800" height="500" frameborder="0" src="http://pythontutor.com/iframe-embed.html#code=class+ItensPersonalizados()%3A%0A++++def+__init__(self,+valor)%3A%0A++++++++self.esquerda+%3D+0%0A++++++++self.direita+%3D+0%0A++++++++self.valor+%3D+valor%0A%0A%0Aclass+ListaPersonalizada()%3A%0A%0A++++def+__init__(self)%3A%0A++++++++self.emulaLista+%3D+list()%0A%0A++++def+add(self,+item)%3A%0A++++++++item+%3D+ItensPersonalizados(item)%0A++++++++self.emulaLista.append(item)%0A++++++++esquerda+%3D0%0A++++++++direita+%3D+1%0A++++++++for+e+in+self.emulaLista%3A%0A++++++++++++e.esquerda+%3D+esquerda%0A++++++++++++e.direita+%3D+direita%0A++++++++++++esquerda+%3D+esquerda+%2B+1%0A++++++++++++direita+%3D+direita+%2B+1%0A++++++++self.emulaLista%5B-1%5D.direita+%3D+0%0A%0A++++def+get(self,+indice)%3A%0A++++++++esquerda+%3D+indice%0A++++++++direita+%3D+indice+%2B+1+if+len(self.emulaLista)+!%3D+indice%2B1+else+0%0A++++++++for+e+in+self.emulaLista%3A%0A++++++++++++if+e.esquerda+%3D%3D+esquerda+and+e.direita+%3D%3D+direita%3A%0A++++++++++++++++return+e.valor%0A++++++++raise+Exception(%22indice+n%C3%A3o+encontrado%22)%0A%0A++++def+remove(self,+indice)%3A%0A++++++++esquerda+%3D+indice%0A++++++++direita+%3D+indice+%2B+1+if+len(self.emulaLista)+!%3D+indice%2B1+else+0%0A++++++++for+e+in+self.emulaLista%3A%0A++++++++++++if+e.esquerda+%3D%3D+esquerda+and+e.direita+%3D%3D+direita%3A%0A++++++++++++++++e.esquerda+%3D+None%0A++++++++++++++++e.direita+%3D+None%0A++++++++++++++++e.valor+%3D+None%0A++++++++++++++++self.coletorDelixo()%0A++++++++++++++++return+True%0A++++++++raise+Exception(%22indice+n%C3%A3o+encontrado%22)%0A%0A++++def+coletorDelixo(self)%3A%0A++++++++for+index+in+range(0,+len(self.emulaLista)-1)%3A%0A++++++++++++if+self.emulaLista%5Bindex%5D.esquerda+is+None+and+self.emulaLista%5Bindex%5D.direita+is+None%3A%0A++++++++++++++++self.emulaLista.remove(index)%0A++++++++esquerda+%3D0%0A++++++++direita+%3D+1%0A++++++++for+e+in+self.emulaLista%3A%0A++++++++++++e.esquerda+%3D+esquerda%0A++++++++++++e.direita+%3D+direita%0A++++++++++++esquerda+%3D+esquerda+%2B+1%0A++++++++++++direita+%3D+direita+%2B+1%0A++++++++self.emulaLista%5B-1%5D.direita+%3D+0%0A%0A++++def+set(self,+indice,+valor)%3A%0A++++++++esquerda+%3D+indice%0A++++++++direita+%3D+indice+%2B+1+if+len(self.emulaLista)+!%3D+indice%2B1+else+0%0A++++++++for+e+in+self.emulaLista%3A%0A++++++++++++if+e.esquerda+%3D%3D+esquerda+and+e.direita+%3D%3D+direita%3A%0A++++++++++++++++e.valor+%3D+valor%0A++++++++++++++++return+True%0A++++++++raise+Exception(%22indice+n%C3%A3o+encontrado%22)%0A%0A++++def+len(self)%3A%0A++++++++return+len(self.emulaLista)%0A%0A%0Adef+bubbleSort(ListaEspecial)%3A%0A++++for+passnum+in+range(ListaEspecial.len()-1,+0,+-1)%3A%0A++++++++for+i+in+range(passnum)%3A%0A++++++++++++if+ListaEspecial.get(i)+%3E+ListaEspecial.get(i%2B1)%3A%0A++++++++++++++++temp+%3D+ListaEspecial.get(i)%0A++++++++++++++++ListaEspecial.set(i,+ListaEspecial.get(i%2B1))%0A++++++++++++++++ListaEspecial.set(i%2B1,+temp)%0A++++++++++++++++%0A%0Alista+%3D+ListaPersonalizada()%0Alista.add(9)%0Alista.add(8)%0Alista.add(7)%0Alista.add(6)%0Aprint+lista.get(0)%0AbubbleSort(lista)%0Aprint+lista.get(0)%0A%0A++++++++%0A&origin=opt-frontend.js&cumulative=true&heapPrimitives=true&textReferences=true&py=2&rawInputLstJSON=%5B%5D&curInstr=0&codeDivWidth=350&codeDivHeight=400"> </iframe>